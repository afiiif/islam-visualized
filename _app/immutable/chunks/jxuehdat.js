import{n as g,o,p as m,E as D,B as F,H as L,C as R,D as x,F as k,G as C,w as y,I as O,U as q,J as B,K as H,L as M,z as U,M as Y,N as w,O as z,e as G,S as J}from"./7Io1OPw0.js";function P(s,f,c=!1){o&&m();var i=s,e=null,a=null,r=q,I=c?D:0,u=!1;const N=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function h(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&H(l),t&&M(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let b=!1;if(o){const S=F(i)===L;!!r===S&&(i=R(),x(i),k(!1),b=!0)}var p=B(),d=i;if(p&&(n=document.createDocumentFragment(),n.append(d=C())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),p){var _=O,T=r?e:a,E=r?a:e;T&&_.skipped_effects.delete(T),E&&_.skipped_effects.add(E),_.add_callback(h)}else h();b&&k(!0)};g(()=>{u=!1,f(N),u||v(null,null)},I),o&&(i=U)}function A(s,f){return s===f||s?.[J]===f}function Z(s={},f,c,i){return Y(()=>{var e,a;return w(()=>{e=a,a=[],G(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{z(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{Z as b,P as i};
