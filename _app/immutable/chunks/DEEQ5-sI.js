import{a6 as b,a7 as m,a as C,a8 as k,v as Y,O as $,a9 as j,i as q,G as H,n as B,aa as z,o as w,ab as L,ac as I,ad as S,F as g,D as N,z as _,A as V,ae as A,af as D,p as G,ag as J,ah as K,ai as Q,aj as U,ak as X,al as Z,w as ee,$ as ae,c as te,r as re,a2 as ne}from"./7Io1OPw0.js";const ie=["touchstart","touchmove"];function se(a){return ie.includes(a)}function oe(a){var e=C,r=k;b(null),m(null);try{return a()}finally{b(e),m(r)}}const x=new Set,M=new Set;function ue(a,e,r,i={}){function s(t){if(i.capture||E.call(e,t),!t.cancelBubble)return oe(()=>r?.call(this,t))}return a.startsWith("pointer")||a.startsWith("touch")||a==="wheel"?$(()=>{e.addEventListener(a,s,i)}):e.addEventListener(a,s,i),s}function ce(a,e,r,i,s){var t={capture:i,passive:s},l=ue(a,e,r,t);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Y(()=>{e.removeEventListener(a,l,t)})}function _e(a){for(var e=0;e<a.length;e++)x.add(a[e]);for(var r of M)r(a)}function E(a){var e=this,r=e.ownerDocument,i=a.type,s=a.composedPath?.()||[],t=s[0]||a.target,l=0,h=a.__root;if(h){var d=s.indexOf(h);if(d!==-1&&(e===document||e===window)){a.__root=e;return}var v=s.indexOf(e);if(v===-1)return;d<=v&&(l=d)}if(t=s[l]||a.target,t!==e){j(a,"currentTarget",{configurable:!0,get(){return t||r}});var O=C,f=k;b(null),m(null);try{for(var n,o=[];t!==null;){var y=t.assignedSlot||t.parentNode||t.host||null;try{var c=t["__"+i];if(c!=null&&(!t.disabled||a.target===t))if(q(c)){var[P,...W]=c;P.apply(t,[a,...W])}else c.call(t,a)}catch(T){n?o.push(T):n=T}if(a.cancelBubble||y===e||y===null)break;t=y}if(n){for(let T of o)queueMicrotask(()=>{throw T});throw n}}finally{a.__root=e,delete a.currentTarget,b(O),m(f)}}}let u;function le(){u=void 0}function he(a){let e=null,r=w;var i;if(w){for(e=_,u===void 0&&(u=V(document.head));u!==null&&(u.nodeType!==L||u.data!==I);)u=S(u);u===null?g(!1):u=N(S(u))}w||(i=document.head.appendChild(H()));try{B(()=>a(i),z)}finally{r&&(g(!0),u=_,N(e))}}function ve(a,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(a.__t??=a.nodeValue)&&(a.__t=r,a.nodeValue=r+"")}function fe(a,e){return F(a,e)}function ye(a,e){A(),e.intro=e.intro??!1;const r=e.target,i=w,s=_;try{for(var t=V(r);t&&(t.nodeType!==L||t.data!==I);)t=S(t);if(!t)throw D;g(!0),N(t),G();const l=F(a,{...e,anchor:t});if(_===null||_.nodeType!==L||_.data!==J)throw K(),D;return g(!1),l}catch(l){if(l===D)return e.recover===!1&&Q(),A(),U(r),g(!1),fe(a,e);throw l}finally{g(i),N(s),le()}}const p=new Map;function F(a,{target:e,anchor:r,props:i={},events:s,context:t,intro:l=!0}){A();var h=new Set,d=f=>{for(var n=0;n<f.length;n++){var o=f[n];if(!h.has(o)){h.add(o);var y=se(o);e.addEventListener(o,E,{passive:y});var c=p.get(o);c===void 0?(document.addEventListener(o,E,{passive:y}),p.set(o,1)):p.set(o,c+1)}}};d(X(x)),M.add(d);var v=void 0,O=Z(()=>{var f=r??e.appendChild(H());return ee(()=>{if(t){ae({});var n=te;n.c=t}s&&(i.$$events=s),w&&re(f,null),v=a(f,i)||{},w&&(k.nodes_end=_),t&&ne()}),()=>{for(var n of h){e.removeEventListener(n,E);var o=p.get(n);--o===0?(document.removeEventListener(n,E),p.delete(n)):p.set(n,o)}M.delete(d),f!==r&&f.parentNode?.removeChild(f)}});return R.set(v,O),v}let R=new WeakMap;function pe(a,e){const r=R.get(a);return r?(R.delete(a),r(e)):Promise.resolve()}export{he as a,_e as d,ce as e,ye as h,fe as m,ve as s,pe as u};
